<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ListingDocument.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">cowem-plugin</a> &gt; <a href="index.source.html" class="el_package">edu.odu.cs.cowem.documents</a> &gt; <span class="el_source">ListingDocument.java</span></div><h1>ListingDocument.java</h1><pre class="source lang-java linenums">/**
 * 
 */
package edu.odu.cs.cowem.documents;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.StringWriter;
import java.util.Properties;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * A Document consisting of source code or uninterpreted data.
 * 
 * @author zeil
 *
 */
public class ListingDocument implements Document {
	
 
 	/**
	 * For logging error messages.
	 */
<span class="nc" id="L28">	private static Logger logger = </span>
<span class="nc" id="L29">	        LoggerFactory.getLogger(ListingDocument.class);</span>
	
	
	/**
	 * File from which source code was being obtained.
	 */
	private File sourceFile;
		
    /**
     * Properties to be used when processing this document.
     */
    private Properties properties;

    /**
     * Context info describing this project and its document sets.
     */
	private WebsiteProject project;
	

    /**
     * Create a document from the given file.
     * @param input listing document source file
     * @param project0 website project contest.
     * @param properties0 Properties to be used in processing this document.
     */
	public ListingDocument(final File input,
	        final WebsiteProject project0,
<span class="nc" id="L56">	        final Properties properties0) {</span>
<span class="nc" id="L57">		sourceFile = input;</span>
<span class="nc" id="L58">		properties = properties0;</span>
<span class="nc" id="L59">		project = project0;</span>
<span class="nc" id="L60">	}</span>
	
    /**
     * Transform this document into a string suitable for writing into
     * an HTML file.
     *  
     * @param format   Specifies a style/format for the generated HTML. 
     * @return String containing HTML of page for web site.
     */
    @Override
    public final String transform(final String format) {
<span class="nc" id="L71">        StringWriter sout = new StringWriter();</span>
<span class="nc" id="L72">        sout.append(&quot;Title: &quot;);</span>
<span class="nc" id="L73">        sout.append(sourceFile.getName());</span>
<span class="nc" id="L74">        sout.append(&quot;\n\n&quot;);</span>
<span class="nc" id="L75">        try (BufferedReader documentIn </span>
                = new BufferedReader (new FileReader (sourceFile));) {
<span class="nc" id="L77">            String line = documentIn.readLine();</span>
<span class="nc bnc" id="L78" title="All 2 branches missed.">            while (line != null) {</span>
<span class="nc" id="L79">                sout.append(&quot;    &quot;);</span>
<span class="nc" id="L80">                sout.append(line);</span>
<span class="nc" id="L81">                sout.append(&quot;\n&quot;);</span>
<span class="nc" id="L82">                line = documentIn.readLine();</span>
            }
            //sout.append(&quot;'''\n&quot;);
<span class="nc" id="L85">            sout.append(&quot;\n[unformatted source](&quot; </span>
<span class="nc" id="L86">                    + sourceFile.getName() </span>
                    + &quot;)\n\n\n&quot;);
<span class="nc" id="L88">        } catch (IOException e) {</span>
<span class="nc" id="L89">            logger.warn(&quot;Unable to read from &quot; + sourceFile + &quot;: &quot; + e);</span>
<span class="nc" id="L90">        }</span>
<span class="nc" id="L91">        String newSource = sout.toString();</span>
<span class="nc" id="L92">        MarkdownDocument doc = new MarkdownDocument (sourceFile, </span>
                project,
                properties,
                newSource);
<span class="nc" id="L96">        return doc.transform(&quot;scroll&quot;);</span>
    }


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>